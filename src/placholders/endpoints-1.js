const _telemetry = {
  1: {
    datetime: [
      "2024-07-27 06:00:00",
      "2024-07-27 07:00:00",
      "2024-07-27 08:00:00",
      "2024-07-27 09:00:00",
      "2024-07-27 10:00:00",
      "2024-07-27 11:00:00",
      "2024-07-27 12:00:00",
      "2024-07-27 13:00:00",
      "2024-07-27 14:00:00",
      "2024-07-27 15:00:00",
    ],
    volt: [
      "176.217853",
      "162.879223",
      "170.989902",
      "162.462833",
      "157.610021",
      "172.504839",
      "156.556031",
      "172.522781",
      "175.324524",
      "169.218423",
    ],
    rotation: [
      "418.504078",
      "402.747490",
      "527.349825",
      "346.149335",
      "435.376873",
      "430.323362",
      "499.071623",
      "409.624717",
      "398.648781",
      "460.850670",
    ],
    pressure: [
      "113.077935",
      "95.460525",
      "75.237905",
      "109.24856",
      "111.88664",
      "95.927042",
      "111.75568",
      "101.00108",
      "110.62436",
      "104.84823",
    ],
    vibration: [
      "45.087686",
      "43.413973",
      "34.178847",
      "41.122144",
      "25.990511",
      "35.655017",
      "42.753920",
      "35.482009",
      "45.482287",
      "39.901735",
    ],
  },
  2: {
    datetime: [
      "2024-07-27 06:00:00",
      "2024-07-27 07:00:00",
      "2024-07-27 08:00:00",
      "2024-07-27 09:00:00",
      "2024-07-27 10:00:00",
      "2024-07-27 11:00:00",
      "2024-07-27 12:00:00",
      "2024-07-27 13:00:00",
      "2024-07-27 14:00:00",
      "2024-07-27 15:00:00",
    ],
    volt: [
      "126.217853",
      "122.879223",
      "150.989902",
      "142.462833",
      "157.610021",
      "172.504839",
      "166.556031",
      "172.522781",
      "135.324524",
      "189.218423",
    ],
    rotation: [
      "428.504078",
      "537.349825",
      "412.747490",
      "460.323362",
      "346.149335",
      "455.376873",
      "378.648781",
      "479.071623",
      "450.850670",
      "449.624717",
    ],
    pressure: [
      "95.460525",
      "113.077935",
      "109.24856",
      "95.927042",
      "104.84823",
      "75.237905",
      "111.75568",
      "110.62436",
      "111.88664",
      "101.00108",
    ],
    vibration: [
      "43.413973",
      "34.178847",
      "35.655017",
      "41.122144",
      "35.482009",
      "39.901735",
      "45.087686",
      "42.753920",
      "25.990511",
      "45.482287",
    ],
  },
  3: {
    datetime: [
      "2024-07-27 06:00:00",
      "2024-07-27 07:00:00",
      "2024-07-27 08:00:00",
      "2024-07-27 09:00:00",
      "2024-07-27 10:00:00",
      "2024-07-27 11:00:00",
      "2024-07-27 12:00:00",
      "2024-07-27 13:00:00",
      "2024-07-27 14:00:00",
      "2024-07-27 15:00:00",
    ],
    volt: [
      "172.504839",
      "156.556031",
      "172.522781",
      "175.324524",
      "169.218423",
      "176.217853",
      "162.879223",
      "170.989902",
      "162.462833",
      "157.610021",
    ],
    rotation: [
      "435.376873",
      "430.323362",
      "499.071623",
      "409.624717",
      "398.648781",
      "460.850670",
      "418.504078",
      "402.747490",
      "346.149335",
      "527.349825",
    ],
    pressure: [
      "95.460525",
      "109.24856",
      "95.927042",
      "101.00108",
      "110.62436",
      "113.077935",
      "104.84823",
      "111.75568",
      "75.237905",
      "111.88664",
    ],
    vibration: [
      "35.655017",
      "42.753920",
      "35.482009",
      "41.122144",
      "45.482287",
      "39.901735",
      "45.087686",
      "25.990511",
      "43.413973",
      "34.178847",
    ],
  },
  4: {
    datetime: [
      "2024-07-27 06:00:00",
      "2024-07-27 07:00:00",
      "2024-07-27 08:00:00",
      "2024-07-27 09:00:00",
      "2024-07-27 10:00:00",
      "2024-07-27 11:00:00",
      "2024-07-27 12:00:00",
      "2024-07-27 13:00:00",
      "2024-07-27 14:00:00",
      "2024-07-27 15:00:00",
    ],
    volt: [
      "172.522781",
      "175.324524",
      "169.218423",
      "176.217853",
      "162.879223",
      "170.989902",
      "162.462833",
      "157.610021",
      "172.504839",
      "156.556031",
    ],
    rotation: [
      "398.648781",
      "346.149335",
      "460.850670",
      "418.504078",
      "409.624717",
      "402.747490",
      "527.349825",
      "435.376873",
      "430.323362",
      "499.071623",
    ],
    pressure: [
      "101.00108",
      "110.62436",
      "111.75568",
      "104.84823",
      "113.077935",
      "95.460525",
      "75.237905",
      "109.24856",
      "111.88664",
      "95.927042",
    ],
    vibration: [
      "35.482009",
      "45.482287",
      "34.178847",
      "39.901735",
      "35.655017",
      "45.087686",
      "43.413973",
      "41.122144",
      "25.990511",
      "42.753920",
    ],
  },
  5: {
    datetime: [
      "2024-07-27 06:00:00",
      "2024-07-27 07:00:00",
      "2024-07-27 08:00:00",
      "2024-07-27 09:00:00",
      "2024-07-27 10:00:00",
      "2024-07-27 11:00:00",
      "2024-07-27 12:00:00",
      "2024-07-27 13:00:00",
      "2024-07-27 14:00:00",
      "2024-07-27 15:00:00",
    ],
    volt: [
      "172.504839",
      "170.989902",
      "162.462833",
      "157.610021",
      "176.217853",
      "172.522781",
      "175.324524",
      "162.879223",
      "169.218423",
      "156.556031",
    ],
    rotation: [
      "402.747490",
      "527.349825",
      "435.376873",
      "418.504078",
      "499.071623",
      "409.624717",
      "398.648781",
      "460.850670",
      "430.323362",
      "346.149335",
    ],
    pressure: [
      "113.077935",
      "75.237905",
      "111.88664",
      "111.75568",
      "101.00108",
      "104.84823",
      "95.460525",
      "110.62436",
      "95.927042",
      "109.24856",
    ],
    vibration: [
      "41.122144",
      "43.413973",
      "34.178847",
      "45.087686",
      "25.990511",
      "35.655017",
      "39.901735",
      "42.753920",
      "35.482009",
      "45.482287",
    ],
  },
};

const _predictionsDB = {
  1: {
    datetime: [
      "2024-08-28 06:00:00",
      "2024-08-28 07:00:00",
      "2024-08-28 08:00:00",
      "2024-08-28 09:00:00",
      "2024-08-28 10:00:00",
      "2024-08-28 11:00:00",
      "2024-08-28 12:00:00",
      "2024-08-28 13:00:00",
      "2024-08-28 14:00:00",
      "2024-08-28 15:00:00",
    ],
    type_1: [23.45, 56.32, 45.67, 34.56, 74.45, 56.3, 23.4, 4.5, 5.6, 67.4],
    type_2: [
      65.5, 67.54, 24.44, 11.76, 21.45, 25.56, 33.88, 45.11, 46.23, 54.34,
    ],
    type_3: [
      12.3, 24.34, 45.42, 11.12, 19.44, 34.22, 14.23, 23.66, 33.56, 2.34,
    ],
    type_4: [23.44, 34.35, 12.33, 10.23, 30.22, 15.45, 1.34, 12.45],
    type_5: [0.51, 6.42, 5.55, 6.45, 55.45, 67.4, 56.54, 23.45, 33.45, 45.33],
  },
  2: {
    datetime: [
      "2024-08-28 06:00:00",
      "2024-08-28 07:00:00",
      "2024-08-28 08:00:00",
      "2024-08-28 09:00:00",
      "2024-08-28 10:00:00",
      "2024-08-28 11:00:00",
      "2024-08-28 12:00:00",
      "2024-08-28 13:00:00",
      "2024-08-28 14:00:00",
      "2024-08-28 15:00:00",
    ],
    type_1: [23.45, 56.32, 45.67, 34.56, 74.45, 56.3, 23.4, 4.5, 5.6, 67.4],
    type_2: [
      12.3, 24.34, 45.42, 11.12, 19.44, 34.22, 14.23, 23.66, 33.56, 2.34,
    ],
    type_3: [23.44, 34.35, 12.33, 10.23, 30.22, 15.45, 1.34, 12.45],
    type_4: [0.51, 6.42, 5.55, 6.45, 55.45, 67.4, 56.54, 23.45, 33.45, 45.33],
    type_5: [
      65.5, 67.54, 24.44, 11.76, 21.45, 25.56, 33.88, 45.11, 46.23, 54.34,
    ],
  },
  3: {
    datetime: [
      "2024-08-28 06:00:00",
      "2024-08-28 07:00:00",
      "2024-08-28 08:00:00",
      "2024-08-28 09:00:00",
      "2024-08-28 10:00:00",
      "2024-08-28 11:00:00",
      "2024-08-28 12:00:00",
      "2024-08-28 13:00:00",
      "2024-08-28 14:00:00",
      "2024-08-28 15:00:00",
    ],
    type_1: [0.51, 6.42, 5.55, 6.45, 55.45, 67.4, 56.54, 23.45, 33.45, 45.33],
    type_2: [
      65.5, 67.54, 24.44, 11.76, 21.45, 25.56, 33.88, 45.11, 46.23, 54.34,
    ],
    type_3: [23.45, 56.32, 45.67, 34.56, 74.45, 56.3, 23.4, 4.5, 5.6, 67.4],
    type_4: [
      12.3, 24.34, 45.42, 11.12, 19.44, 34.22, 14.23, 23.66, 33.56, 2.34,
    ],
    type_5: [23.44, 34.35, 12.33, 10.23, 30.22, 15.45, 1.34, 12.45],
  },
  4: {
    datetime: [
      "2024-08-28 06:00:00",
      "2024-08-28 07:00:00",
      "2024-08-28 08:00:00",
      "2024-08-28 09:00:00",
      "2024-08-28 10:00:00",
      "2024-08-28 11:00:00",
      "2024-08-28 12:00:00",
      "2024-08-28 13:00:00",
      "2024-08-28 14:00:00",
      "2024-08-28 15:00:00",
    ],
    type_2: [23.45, 56.32, 45.67, 34.56, 74.45, 56.3, 23.4, 4.5, 5.6, 67.4],
    type_1: [
      65.5, 67.54, 24.44, 11.76, 21.45, 25.56, 33.88, 45.11, 46.23, 54.34,
    ],
    type_5: [
      12.3, 24.34, 45.42, 11.12, 19.44, 34.22, 14.23, 23.66, 33.56, 2.34,
    ],
    type_4: [23.44, 34.35, 12.33, 10.23, 30.22, 15.45, 1.34, 12.45],
    type_5: [
      0.51, 6.42, 5.55, 6.45, 55.45, 67.4, 56.54, 23.45, 33.45, 45.33,
    ].reverse(),
  },
  5: {
    datetime: [
      "2024-08-28 06:00:00",
      "2024-08-28 07:00:00",
      "2024-08-28 08:00:00",
      "2024-08-28 09:00:00",
      "2024-08-28 10:00:00",
      "2024-08-28 11:00:00",
      "2024-08-28 12:00:00",
      "2024-08-28 13:00:00",
      "2024-08-28 14:00:00",
      "2024-08-28 15:00:00",
    ],
    type_1: [
      23.45, 56.32, 45.67, 34.56, 74.45, 56.3, 23.4, 4.5, 5.6, 67.4,
    ].reverse(),
    type_2: [
      65.5, 67.54, 24.44, 11.76, 21.45, 25.56, 33.88, 45.11, 46.23, 54.34,
    ].reverse(),
    type_3: [
      12.3, 24.34, 45.42, 11.12, 19.44, 34.22, 14.23, 23.66, 33.56, 2.34,
    ].reverse(),
    type_4: [23.44, 34.35, 12.33, 10.23, 30.22, 15.45, 1.34, 12.45].reverse(),
    type_5: [
      0.51, 6.42, 5.55, 6.45, 55.45, 67.4, 56.54, 23.45, 33.45, 45.33,
    ].reverse(),
  },
};

export const getMachineReadingById = (machineID) => {
  // get individual machine readings
  try {
    const machine = _telemetry[machineID];

    const response = [];
    for (let i = 0; i < machine.datetime.length; i++) {
      const object = {
        datetime: machine.datetime[i],
        volt: machine.volt[i],
        rotation: machine.rotation[i],
        vibration: machine.vibration[i],
        pressure: machine.pressure[i],
      };
      response.push(object);
    }
    return { success: true, data: response };
  } catch (error) {
    return { success: false, message: error };
  }
};

export const getAllMachineReadings = () => {
  // get all the machine readings
  try {
    const response = [];
    for (const id in _telemetry) {
      const data = _telemetry[id];
      data["machineID"] = id;
      response.push(data);
    }
    return { success: true, data: response };
  } catch (error) {
    return { success: false, message: error };
  }
};

export const getPrediction = (machineID) => {
  // get current prediction

  try {
    let type_1;
    let type_2;
    let type_3;
    let type_4;
    let no_failure;

    switch (machineID) {
      case 1:
        type_1 = 10;
        type_2 = 65;
        type_3 = 15;
        type_4 = 5;
        no_failure = 0;
        break;
      case 2:
        type_1 = 70;
        type_2 = 10;
        type_3 = 10;
        type_4 = 6;
        no_failure = 4;
        break;
      case 3:
        type_1 = 5;
        type_2 = 65;
        type_3 = 10;
        type_4 = 10;
        no_failure = 10;
        break;
      case 4:
        type_1 = 75;
        type_2 = 20;
        type_3 = 5;
        type_4 = 5;
        no_failure = 0;
        break;
      case 5:
        type_1 = 20;
        type_2 = 35;
        type_3 = 25;
        type_4 = 10;
        no_failure = 10;
        break;
      default:
        type_1 = 0;
        type_2 = 0;
        type_3 = 0;
        type_4 = 0;
        no_failure = 0;
        break;
    }

    const response = {
      type_1: type_1.toFixed(2),
      type_2: type_2.toFixed(2),
      type_3: type_3.toFixed(2),
      type_4: type_4.toFixed(2),
      no_failure: no_failure.toFixed(2),
    };
    return { success: true, data: response };
  } catch (error) {
    return { success: false, message: error };
  }
};

export const getAllPredictions = (machineID) => {
  // returns the previous predictions for a machine
  try {
    const response = [];
    const data = _predictionsDB[machineID];

    for (let i = 0; i < data.datetime.length; i++) {
      let obj = {
        datetime: data.datetime[i],
        type_2: data.type_1[i] || 0,
        type_3: data.type_3[i] || 0,
        type_4: data.type_4[i] || 0,
        no_failure: data.type_5[i] || 0,
      };
      response.push(obj);
    }

    return { success: true, machineID, data: response };
  } catch (error) {
    return { success: false, message: error };
  }
};
